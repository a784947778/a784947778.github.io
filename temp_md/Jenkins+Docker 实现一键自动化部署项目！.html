<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Jenkins+Docker 实现一键自动化部署项目！步骤齐全，少走坑路！ | Mars 博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="一个简单的记录网站">
    
    <link rel="preload" href="/assets/css/0.styles.6c8f47f2.css" as="style"><link rel="preload" href="/assets/js/app.f0bf87a3.js" as="script"><link rel="preload" href="/assets/js/2.9885c7ab.js" as="script"><link rel="preload" href="/assets/js/24.26b03f1c.js" as="script"><link rel="prefetch" href="/assets/js/10.13d8c240.js"><link rel="prefetch" href="/assets/js/11.af67e6c8.js"><link rel="prefetch" href="/assets/js/12.8c642125.js"><link rel="prefetch" href="/assets/js/13.2b622a04.js"><link rel="prefetch" href="/assets/js/14.e498cb80.js"><link rel="prefetch" href="/assets/js/15.1c5229c8.js"><link rel="prefetch" href="/assets/js/16.0a86e93d.js"><link rel="prefetch" href="/assets/js/17.515ad2cd.js"><link rel="prefetch" href="/assets/js/18.001ce609.js"><link rel="prefetch" href="/assets/js/19.73ced7bc.js"><link rel="prefetch" href="/assets/js/20.73745822.js"><link rel="prefetch" href="/assets/js/21.f7572561.js"><link rel="prefetch" href="/assets/js/22.ef0a0d03.js"><link rel="prefetch" href="/assets/js/23.ec466550.js"><link rel="prefetch" href="/assets/js/25.cf834fc2.js"><link rel="prefetch" href="/assets/js/26.c2ba60d1.js"><link rel="prefetch" href="/assets/js/27.23c4cb8c.js"><link rel="prefetch" href="/assets/js/28.9455c26d.js"><link rel="prefetch" href="/assets/js/29.ab0a77fe.js"><link rel="prefetch" href="/assets/js/3.4be2e3ad.js"><link rel="prefetch" href="/assets/js/30.db0a45f4.js"><link rel="prefetch" href="/assets/js/31.e6878dae.js"><link rel="prefetch" href="/assets/js/32.ab7b3fe5.js"><link rel="prefetch" href="/assets/js/33.9c2eda1c.js"><link rel="prefetch" href="/assets/js/34.c083b084.js"><link rel="prefetch" href="/assets/js/35.3c5ae702.js"><link rel="prefetch" href="/assets/js/36.26e9d3e4.js"><link rel="prefetch" href="/assets/js/4.d13662f1.js"><link rel="prefetch" href="/assets/js/5.37ea8474.js"><link rel="prefetch" href="/assets/js/6.b8056fcf.js"><link rel="prefetch" href="/assets/js/7.6f700ec0.js"><link rel="prefetch" href="/assets/js/8.90656a6d.js"><link rel="prefetch" href="/assets/js/9.fd85fe83.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6c8f47f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/Mars.png" alt="Mars 博客" class="logo"> <span class="site-name can-hide">Mars 博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言" class="mobile-dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/java/" class="nav-link">
  java语言
</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/thirdparty/" class="nav-link">
  技术
</a></div><div class="nav-item"><a href="/exam/" class="nav-link">
  成考
</a></div><div class="nav-item"><a href="/collect/" class="nav-link">
  个人收藏
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  总结
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的" class="dropdown-title"><span class="title">我的</span> <span class="arrow down"></span></button> <button type="button" aria-label="我的" class="mobile-dropdown-title"><span class="title">我的</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/me/" class="nav-link">
  简介
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/a784947778" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/712139234359182/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言" class="mobile-dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/java/" class="nav-link">
  java语言
</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/thirdparty/" class="nav-link">
  技术
</a></div><div class="nav-item"><a href="/exam/" class="nav-link">
  成考
</a></div><div class="nav-item"><a href="/collect/" class="nav-link">
  个人收藏
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  总结
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的" class="dropdown-title"><span class="title">我的</span> <span class="arrow down"></span></button> <button type="button" aria-label="我的" class="mobile-dropdown-title"><span class="title">我的</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/me/" class="nav-link">
  简介
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/a784947778" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/712139234359182/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="jenkins-docker-实现一键自动化部署项目-步骤齐全-少走坑路"><a href="#jenkins-docker-实现一键自动化部署项目-步骤齐全-少走坑路" class="header-anchor">#</a> Jenkins+Docker 实现一键自动化部署项目！步骤齐全，少走坑路！</h1> <p><strong>环境</strong>：centos7+git(gitee)</p> <p>简述实现步骤：在docker安装jenkins，配置jenkins基本信息，利用Dockerfile和shell脚本实现项目自动拉取打包并运行。</p> <h2 id="安装docker"><a href="#安装docker" class="header-anchor">#</a> 安装docker</h2> <p>docker 安装社区版本CE</p> <ul><li>确保 yum 包更新到最新。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>yum update
</code></pre></div><ul><li>卸载旧版本(如果安装过旧版本的话)</li></ul> <div class="language- extra-class"><pre class="language-text"><code>yum remove docker  docker-common docker-selinux docker-engine
</code></pre></div><ul><li>安装需要的软件包</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils device-mapper-persistent-data lvm2
</code></pre></div><ul><li>设置yum源</li></ul> <div class="language- extra-class"><pre class="language-text"><code>yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
</code></pre></div><ul><li>安装docker</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> docker-ce  <span class="token comment">#由于repo中默认只开启stable仓库，故这里安装的是最新稳定版17.12.0</span>
yum <span class="token function">install</span> <span class="token operator">&lt;</span>自己的版本<span class="token operator">&gt;</span>  <span class="token comment"># 例如：sudo yum install docker-ce-17.12.0.ce</span>
</code></pre></div><ul><li>启动和开机启动</li></ul> <div class="language- extra-class"><pre class="language-text"><code># 启动docker
systemctl start docker
# 停止docker
systemctl stop docker
# 重启docker
systemctl restart docker
# 查看docker状态
systemctl status docker
# 开机启动
systemctl enable docker
# 查看docker概要信息
docker info
# 查看docker总体帮助文档
docker --help
# 查看docker命令帮助文档
docker 具体命令 --help
# 验证安装是否成功
docker version
</code></pre></div><h2 id="安装jenkins"><a href="#安装jenkins" class="header-anchor">#</a> 安装Jenkins</h2> <p>Jenkins中文官网：https://www.jenkins.io/zh/</p> <ul><li>安装J enkins</li></ul> <p>docker 安装一切都是那么简单，注意检查8080是否已经占用！如果占用修改端口</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> jenkins <span class="token parameter variable">-u</span> root <span class="token parameter variable">--rm</span> <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token parameter variable">-p</span> <span class="token number">50000</span>:50000 <span class="token parameter variable">-v</span> /var/jenkins_home:/var/jenkins_home <span class="token parameter variable">-v</span> /var/run/docker.sock:/var/run/docker.sock jenkinsci/blueocean
</code></pre></div><p>如果没改端口号的话</p> <p>安装完成后访问地址-&gt; <code>http://{部署Jenkins所在服务IP}:8080</code></p> <p>此处会有几分钟的等待时间。</p> <ul><li>初始化 Jenkins</li></ul> <p>详情见官网教程-&gt;<code>https://www.jenkins.io</code></p> <ul><li>解锁 Jenkins</li></ul> <p>进入Jenkins容器：<code>docker exec -it {Jenkins容器名} bash</code></p> <p>例如 <code>docker exec -it jenkins bash</code></p> <p>查看密码：<code>cat /var/lib/jenkins/secrets/initialAdminPassword</code></p> <p>复制密码到输入框里面</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPrbEhqbcLR8wXrg2KAhUuILPY6o7qC22AdrchC2O5kpkHSy62jv9chA/640?wx_fmt=png&amp;random=0.2761577485869935&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <ul><li>安装插件</li></ul> <p>选择第一个：安装推荐的插件</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPMShC9B9Gb1uaG4wa1HiaEGaoKYKa3IsH63icts1LdKAOwokfbCbkn0hA/640?wx_fmt=png&amp;random=0.24174694738504887&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <ul><li>创建管理员用户</li></ul> <p>此账户一定要记住哦</p> <h2 id="系统配置"><a href="#系统配置" class="header-anchor">#</a> 系统配置</h2> <ul><li>安装需要插件</li></ul> <p>进入【<code>首页</code>】–【<code>系统管理</code>】–【<code>插件管理</code>】–【<code>可选插件</code>】</p> <p>搜索以下需要安装的插件，点击安装即可。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPQDKicJDxKMYtmb2MR4zTsibv5nNPOQbXMaK7fF7RuxaeumlDclmjKqbA/640?wx_fmt=png&amp;random=0.0851113119142719&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <ul><li>安装Maven Integration</li> <li>安装Publish Over SSH(如果不需要远程推送，不用安装)</li> <li>如果使用Gitee 码云，安装插件Gitee（Git自带不用安装）</li> <li>配置Maven</li></ul> <p>进入【<code>首页</code>】–【<code>系统管理</code>】–【<code>全局配置</code>】，拉到最下面maven–maven安装</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPia49FfDyicLsL2PFLPF3pLjHRADicwTQXoia7GEA0r5kwCleEFvIgmicmGA/640?wx_fmt=png&amp;random=0.2950981127239827&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <h2 id="创建任务"><a href="#创建任务" class="header-anchor">#</a> 创建任务</h2> <ul><li>新建任务</li></ul> <p>点击【<code>新建任务</code>】，输入任务名称，点击构建一个自由风格的软件项目</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPn4pxtrwxiaVpNPCXVzzxibKnMn4hvt3j7grKIKsvwtu2cgia5f9od5jSQ/640?wx_fmt=png&amp;random=0.5713521000113295&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <ul><li>源码管理</li></ul> <p>点击【<code>源码管理</code>】–【<code>Git</code>】，输入仓库地址，添加凭证，选择好凭证即可。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPOMibyibMl1EhH9Aib2s2lcywNibN4q4kaer2lW755YUFEaUxXpm3saC2CQ/640?wx_fmt=png&amp;random=0.7040381943590521&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPoC0a8j24GtrU1kDfBCoxLbLHzOxCPF8CLOKmvKF1SiannerYcTtMSOA/640?wx_fmt=png&amp;random=0.3578799357090834&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <ul><li>构建触发器</li></ul> <p>点击【<code>构建触发器</code>】–【<code>构建</code>】–【<code>增加构建步骤</code>】–【<code>调用顶层Maven目标</code>】–【<code>填写配置</code>】–【<code>保存</code>】</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPFRPpniaN1AeLVaj1ia4C6a4iaBHHqF9psdXibQQRDWFda8o0qO8aXy998g/640?wx_fmt=png&amp;random=0.15483698622630326&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p>此处命令只是install，看是否能生成jar包</p> <div class="language- extra-class"><pre class="language-text"><code>clean install -Dmaven.test.skip=true
</code></pre></div><p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPcuVDibxKIgToKm3kINsEibqtibnDU7dV2hEryTTUiaIMPSqYUjFY0h4tKw/640?wx_fmt=png&amp;random=0.39540935727714044&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <ul><li>保存</li></ul> <p>点击【<code>保存</code>】按钮即可</p> <h2 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h2> <p>该功能测试是否能正常打包</p> <ul><li>构建</li></ul> <p>点击构建按钮<img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPO0oSgB0Hm2x6P31EGU7UY1USSMhyj3icwibofRLnNoBE2M2ze36Damtw/640?wx_fmt=png&amp;random=0.6333519074716008&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <ul><li>查看日志</li></ul> <p>点击正在构建的任务，或者点击任务名称，进入详情页面，查看控制台输出，看是否能成功打成jar包。</p> <p>该处日志第一次可能下载依赖jar包失败，再次点击构建即可成功。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPwWo4BwS4wjnVxb3dE2gXttNz7oHCwaegprnwvibPUmOmjN1ibt7zJxCA/640?wx_fmt=png&amp;random=0.5999876700852618&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPR7ZIgzsXNFukU8lU5v22NCxlsE8s6RkgQ2qiaScpSicKiboUe8gJAjF1A/640?wx_fmt=png&amp;random=0.7780396922427533&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <ul><li>查看项目位置</li></ul> <div class="language- extra-class"><pre class="language-text"><code>cd /var/jenkins_home/workspace
</code></pre></div><p><code>ll</code>命令即可查看是否存在</p> <h2 id="运行项目"><a href="#运行项目" class="header-anchor">#</a> 运行项目</h2> <p>因为我们项目和jenkins在同一台服务器，所以我们用shell脚本运行项目，原理既是通过dockerfile 打包镜像，然后docker运行即可。</p> <ul><li>Dockerfile</li></ul> <p>在springboot项目根目录新建一个名为Dockerfile的文件，注意没有后缀名，其内容如下:（大致就是使用jdk8，把jar包添加到docker然后运行prd配置文件）</p> <div class="language- extra-class"><pre class="language-text"><code>FROM jdk:8
VOLUME /tmp
ADD target/zx-order-0.0.1-SNAPSHOT.jar app.jar
EXPOSE 8888
ENTRYPOINT [&quot;Bash&quot;,&quot;-DBash.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;,&quot;--spring.profiles.active=prd&quot;]
</code></pre></div><ul><li>修改jenkins任务配置</li></ul> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPodf2UHianoee3djfCv0SHTyxiaen9CFgOLic89EIXQlDStJqUg20Jd7Lg/640?wx_fmt=png&amp;random=0.8426236552246651&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p>配置如下：</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACPTIevYoH9CEPPicianP33fnFmMWkxHMVZiaRbVSA7esFlQmXb4Hh4x0s5w/640?wx_fmt=png&amp;random=0.917211172327181&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <div class="language- extra-class"><pre class="language-text"><code>-t：指定新镜像名
.：表示Dockfile在当前路径
cd /var/jenkins_home/workspace/zx-order-api
docker stop zx-order || true
docker rm zx-order || true
docker rmi zx-order || true
docker build -t zx-order .
docker run -d -p 8888:8888 --name zx-order zx-order:latest
</code></pre></div><p>备注：</p> <ul><li>我上图用了docker logs -f 是为了方便看日志，真实不要用，因为会一直等待日志，构建任务会失败</li> <li>加|| true 是如果命令执行失败也会继续实行，为了防止第一次没有该镜像报错</li> <li>保存</li></ul> <p>点击保存即可</p> <ul><li>构建</li></ul> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/NW4iaKVI4GNNLwxG4hXR3cy7wI4AzdACP1O6qdkh7ibB11ql6qmX8CSibk74qKdzW0AzuPYXORYtiaeot3uRwUMBPQ/640?wx_fmt=png&amp;random=0.7267159854280252&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p>查看jenkins控制台输出，输出如下，证明成功！</p> <ul><li>验证</li></ul> <div class="language- extra-class"><pre class="language-text"><code>docker ps 查看是否有自己的容器
docker logs 自己的容器名 查看日志是否正确
</code></pre></div><p>浏览器访问项目试一试</p> <p><strong>· END ·</strong></p> <p>RabbitMq</p> <p>在docker下部署RabbitMq容器，启动成功以后，需要进入RabbitMq容器中配置下面指令，否则客服端不能成功的访问</p> <div class="language-shell extra-class"><pre class="language-shell"><code>rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management rabbitmq_web_stomp rabbitmq_stomp rabbitmq_web_stomp_examples
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/22/2023, 3:07:16 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f0bf87a3.js" defer></script><script src="/assets/js/2.9885c7ab.js" defer></script><script src="/assets/js/24.26b03f1c.js" defer></script>
  </body>
</html>
